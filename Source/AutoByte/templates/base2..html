{% load static %}
<!DOCTYPE html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Skydash Admin</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="{% static 'vendors/feather/feather.css' %}">
    <link rel="stylesheet" href="{% static 'vendors/ti-icons/css/themify-icons.css' %}">
    <link rel="stylesheet" href="{% static 'vendors/css/vendor.bundle.base.css' %}">
    <!-- endinject -->
    <!-- Plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="{% static 'css/vertical-layout-light/style.css' %}">
    <!-- endinject -->
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" />
  </head>

  <body>
    {% block authpage %}
    <div class="container-scroller">
      <div class="container-fluid page-body-wrapper full-page-wrapper">
        <div class="content-wrapper d-flex align-items-center auth px-0">
          <div class="row w-100 mx-0">
            <div class="col-lg-4 mx-auto">
              <div class="auth-form-light text-left py-5 px-4 px-sm-5">
                <div class="brand-logo">
                  <a href="{% url 'home' %}">
                  <img src="{% static 'images/logo.svg' %}" alt="logo">
                </a>
                </div>
                <h4>Hello! let's get started</h4>
                <h6 class="font-weight-light">Sign in to continue.</h6>
                {% if invalid_credential %}
                <div class="alert alert-danger" role="alert">
                  Invalid Username or Password
                </div>
                {% endif %}
                <form action="{% url 'login' %}" method="post" id="loginForm" class="pt-3">
                  {% csrf_token %}
                  <div class="form-group">
                    <input type="text" name="username" class="form-control form-control-lg" id="exampleInputEmail1"
                      placeholder="Username" {% if username %} value="{{ username }}" {% endif %}>
                    <div id="loginUsernameErr" class=""></div>
                  </div>
                  <div class="form-group">
                    <input type="password" name="password" class="form-control form-control-lg" id="exampleInputPassword1"
                      placeholder="Password" {% if password %} value="{{ password }}" {% endif %}>
                    <div id="loginPasswordErr" class=""></div>
                  </div>
                  <div class="mt-3">
                    <input type="submit" class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn"
                      value="SIGN IN">
                  </div>
                  <div class="my-2 d-flex justify-content-center align-items-center">
                    <a href="" class="auth-link text-black">Forgot password?</a>
                  </div>
                  <div class="text-center mt-4 font-weight-light">
                    Don't have an account? <a href="{% url 'register' %}" class="text-primary">Create</a>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
        <!-- content-wrapper ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    {% endblock %}
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="{% static 'vendors/js/vendor.bundle.base.js' %}"></script>
    <!-- endinject -->
    <!-- Plugin js for this page -->
    <!-- End plugin js for this page -->
    <!-- inject:js -->
    <script src="{% static 'js/off-canvas.js' %}"></script>
    <script src="{% static 'js/hoverable-collapse.js' %}"></script>
    <script src="{% static 'js/template.js' %}"></script>
    <script src="{% static 'js/settings.js' %}"></script>
    <script src="{% static 'js/todolist.js' %}"></script>
    <!-- endinject -->

    <script src="{% static 'dev_js/validations.js' %}"></script>
    <script src="{% static 'dev_js/tagids.js' %}"></script>
    <script>
      var loginForm = document.getElementById('loginForm');
      loginForm.addEventListener('submit', function (event) {
        event.preventDefault();
        var loginUsernameValue = loginusername.value.trim();
        var loginPasswordValue = loginpassword.value.trim();

        if ((loginUsernameValue.length > 0) && (loginPasswordValue.length > 0)) {
          document.getElementById('loginUsernameErr').classList.remove('invalid-feedback');
          loginusername.classList.remove('is-invalid');
          document.getElementById('loginPasswordErr').textContent = "";
          document.getElementById('loginUsernameErr').textContent = "";
          document.getElementById('loginPasswordErr').classList.remove('invalid-feedback');
          loginpassword.classList.remove('is-invalid');
          console.log(true);
          loginForm.submit();
          return true;
        } else if(loginUsernameValue.length > 0){
          document.getElementById('loginUsernameErr').classList.add('invalid-feedback');
          document.getElementById('loginUsernameErr').textContent = "Cannot be Empty";
          loginusername.classList.add('is-invalid');
        } else if(loginUsernameValue.length > 0) {
          document.getElementById('loginPasswordErr').classList.add('invalid-feedback');
          document.getElementById('loginPasswordErr').textContent = "Cannot be Empty";
          loginpassword.classList.add('is-invalid');
        }else {
          document.getElementById('loginUsernameErr').classList.add('invalid-feedback');
          document.getElementById('loginUsernameErr').textContent = "Cannot be Empty";
          loginusername.classList.add('is-invalid');
          document.getElementById('loginPasswordErr').classList.add('invalid-feedback');
          document.getElementById('loginPasswordErr').textContent = "Cannot be Empty";
          loginpassword.classList.add('is-invalid');
          console.log(false);
          return false;
        }
      });
    </script>
  </body>

</html>